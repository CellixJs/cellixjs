type Member implements MongoBase {
  memberName: String
  community: Community
  # role: EndUserRole
  accounts: [MemberAccount!]!
  profile: MemberProfile
  # cybersourceCustomerId: String
  # customViews: [CustomView]
  isAdmin: Boolean

  id: ObjectID!
  schemaVersion: String
  createdAt: DateTime
  updatedAt: DateTime
}

type MemberAccount implements MongoSubdocument {
  firstName: String!
  lastName: String
  user: EndUser
  statusCode: String
  createdBy: EndUser

  id: ObjectID!
  createdAt: DateTime
  updatedAt: DateTime
}

type MemberProfile {
  name: String
  email: String
  bio: String
  avatarDocumentId: String
  interests: [String]
  showInterests: Boolean
  showEmail: Boolean
  showProfile: Boolean
  showLocation: Boolean
  showProperties: Boolean
}

extend type Query {
    # member(id: ObjectID!): Member!
    membersByCommunityId(communityId: ObjectID!): [Member!]!
    # memberForCurrentCommunity: Member!
    membersForCurrentEndUser: [Member!]!
}

extend type Mutation {
    memberInvite(input: MemberInviteInput!): MemberMutationResult!
    memberRemove(input: MemberRemoveInput!): MemberMutationResult!
    memberUpdateRole(input: MemberUpdateRoleInput!): MemberMutationResult!
}

type MemberMutationResult implements MutationResult {
  status: MutationStatus!
  member: Member
}

input MemberInviteInput {
  communityId: ObjectID!
  firstName: String!
  lastName: String
  email: String!
}

input MemberRemoveInput {
  id: ObjectID!
}

input MemberUpdateRoleInput {
  memberId: ObjectID!
  roleId: ObjectID!
}